{"ast":null,"code":"// import { onMounted, onUnmounted, ref, unref } from \"vue\";\n\n// export const useScrollLoad = (target, url) => {\n//   const size = 10;\n\n//   const list = ref([]);\n//   const start = ref(0);\n\n//   const load = () => {\n//     fetchData();\n//   };\n\n//   const loadMore = () => {\n//     start.value = start.value + size;\n//     load();\n//   };\n\n//   const fetchData = () => {\n//     fetch(url(start.value, size))\n//       .then((res) => res.json())\n//       .then((res) => {\n//         list.value.push(...res);\n//       });\n//   };\n\n//   const getScrollRest = (element) => {\n//     const clientHeight = element.clientHeight;\n//     const scrollHeight = element.scrollHeight;\n//     const scrollTop = element.scrollTop;\n\n//     return scrollHeight - scrollTop - clientHeight;\n//   };\n\n//   const handleScrollEvent = (e) => {\n//     const bottom = getScrollRest(e.target);\n\n//     if (bottom === 0) {\n//       loadMore();\n//     }\n//   };\n\n//   onMounted(() => {\n//     if (!target.value) {\n//       return;\n//     }\n\n//     load();\n//     target.value.addEventListener(\"scroll\", handleScrollEvent);\n//   });\n\n//   onUnmounted(() => {\n//     if (!target.value) {\n//       return;\n//     }\n//     target.value.removeEventListener(\"scroll\", handleScrollEvent);\n//   });\n\n//   return { list };\n// };","map":{"version":3,"names":[],"sources":["C:/test/test/test/src/common/scrollLoad.js"],"sourcesContent":["// import { onMounted, onUnmounted, ref, unref } from \"vue\";\r\n\r\n// export const useScrollLoad = (target, url) => {\r\n//   const size = 10;\r\n\r\n//   const list = ref([]);\r\n//   const start = ref(0);\r\n\r\n//   const load = () => {\r\n//     fetchData();\r\n//   };\r\n\r\n//   const loadMore = () => {\r\n//     start.value = start.value + size;\r\n//     load();\r\n//   };\r\n\r\n//   const fetchData = () => {\r\n//     fetch(url(start.value, size))\r\n//       .then((res) => res.json())\r\n//       .then((res) => {\r\n//         list.value.push(...res);\r\n//       });\r\n//   };\r\n\r\n//   const getScrollRest = (element) => {\r\n//     const clientHeight = element.clientHeight;\r\n//     const scrollHeight = element.scrollHeight;\r\n//     const scrollTop = element.scrollTop;\r\n\r\n//     return scrollHeight - scrollTop - clientHeight;\r\n//   };\r\n\r\n//   const handleScrollEvent = (e) => {\r\n//     const bottom = getScrollRest(e.target);\r\n\r\n//     if (bottom === 0) {\r\n//       loadMore();\r\n//     }\r\n//   };\r\n\r\n//   onMounted(() => {\r\n//     if (!target.value) {\r\n//       return;\r\n//     }\r\n\r\n//     load();\r\n//     target.value.addEventListener(\"scroll\", handleScrollEvent);\r\n//   });\r\n\r\n//   onUnmounted(() => {\r\n//     if (!target.value) {\r\n//       return;\r\n//     }\r\n//     target.value.removeEventListener(\"scroll\", handleScrollEvent);\r\n//   });\r\n\r\n//   return { list };\r\n// };"],"mappings":"AAAA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}